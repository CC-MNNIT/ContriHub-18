{% extends "Projects/base.html" %}
{% load staticfiles %}

{% block title_extra %}LeaderBoard - {% endblock title_extra %} ContriHub

{% block head_extra %}

{% endblock head_extra %}


{% block body_content %}
{% include 'Projects/navbar.html' %}

<div class="container users-container">
  <div class="card" style="margin-top: 100px">

    <div class="card-body" style="margin-bottom:20px">
      <table class="table table-hover">
        <thead class="thead-dark">
          <tr>
            <th scope="col"><strong>Rank</strong></th>
            <th scope="col"><strong>User</strong> (Github Profile)</th>
            <th scope="col"><strong>Score</strong></th>
          </tr>
        </thead>
        <tbody>
          {% for user in users %}
            <tr>
              <th scope="row">{{forloop.counter}}</th>
              <td><a href="https://github.com/{{user.username}}">{{user.username}}</a></td>
              <td>{{user.profile.points}}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
</div>
</div>

{% if users.has_next %}
<div class="paginator">
  <a class="more-users-link" href="?page={{ users.next_page_number }}">
    More
  </a>
</div>
{% endif %}

{% endblock body_content %}



{% block js_extra %}
<script type="text/javascript">
  $(document).ready(function(){
      var infiniteScroll = new Waypoint.Infinite({
        element: $('.users-container')[0],
        items: '.users-list-item',
        loadingClass: 'more-users-loading',
        more: '.more-users-link'
      });
  });
</script>
{% endblock js_extra %}